{"version":3,"file":"webcomponentWrapper-DuZfHUoi.js","sources":["../../src/webcomponentWrapper.tsx"],"sourcesContent":["import { Provider as ModalProvider } from '@navikt/ds-react';\nimport React from 'react';\nimport { createRoot } from 'react-dom/client';\n\nimport App from './App';\nimport globalCss from './global.css?inline';\nimport dialogOversiktStyles from './view/dialogliste/DialogPreview.module.css?inline';\nimport { useFnrStore } from './fnrStore';\nimport { createBrowserRouter } from 'react-router-dom';\n\nexport class DabDialog extends HTMLElement {\n    setFnr?: (fnr: string) => void;\n    connectedCallback() {\n        // Cant mount on shadowRoot, create a extra div for mounting modal\n        const shadowDomFirstChild = document.createElement('div');\n        // This will be app entry point, need to be outside modal-mount node\n        const appRoot = document.createElement('div');\n        appRoot.id = 'dialog-root';\n        const shadowRoot = this.attachShadow({ mode: 'closed' });\n        shadowRoot.appendChild(shadowDomFirstChild);\n        shadowDomFirstChild.appendChild(appRoot);\n\n        // Load styles under this shadowDom-node, not root element\n        const styleElem = document.createElement('style');\n        styleElem.innerHTML = globalCss + dialogOversiktStyles;\n        shadowRoot.appendChild(styleElem);\n\n        const fnr = this.getAttribute('data-fnr') ?? undefined;\n        try {\n            useFnrStore.getState().setFnr(fnr);\n            const root = createRoot(appRoot);\n            root.render(\n                <ModalProvider rootElement={shadowDomFirstChild}>\n                    <App createRouter={createBrowserRouter} />\n                </ModalProvider>\n            );\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    attributeChangedCallback(name: string, oldValue: string, newValue: string) {\n        if (name === 'data-fnr') {\n            useFnrStore.getState().setFnr(newValue);\n        }\n    }\n    static get observedAttributes() {\n        return ['data-fnr'];\n    }\n}\n"],"names":["DabDialog","HTMLElement","connectedCallback","shadowDomFirstChild","document","createElement","appRoot","id","shadowRoot","attachShadow","mode","appendChild","styleElem","innerHTML","globalCss","dialogOversiktStyles","fnr","getAttribute","undefined","getState","setFnr","createRoot","render","jsx","ModalProvider","App","createBrowserRouter","e","console","error","attributeChangedCallback","name","oldValue","newValue","observedAttributes"],"mappings":"6p2OAUO,MAAMA,UAAkBC,WAAY,CAEvCC,mBAAoB,CAEVC,MAAAA,EAAsBC,SAASC,cAAc,KAAK,EAElDC,EAAUF,SAASC,cAAc,KAAK,EAC5CC,EAAQC,GAAK,cACPC,MAAAA,EAAa,KAAKC,aAAa,CAAEC,KAAM,QAAA,CAAU,EACvDF,EAAWG,YAAYR,CAAmB,EAC1CA,EAAoBQ,YAAYL,CAAO,EAGjCM,MAAAA,EAAYR,SAASC,cAAc,OAAO,EAChDO,EAAUC,UAAYC,EAAYC,EAClCP,EAAWG,YAAYC,CAAS,EAEhC,MAAMI,EAAM,KAAKC,aAAa,UAAU,GAAKC,OACzC,GAAA,CACYC,EAAAA,SAAAA,EAAWC,OAAOJ,CAAG,EACpBK,aAAWf,CAAO,EAC1BgB,OACAC,EAAAA,IAAAC,EAAA,CAAc,YAAarB,EACxB,eAACsB,EAAI,CAAA,aAAcC,CAAoB,CAAA,CAC3C,CAAA,CACJ,QACKC,EAAG,CACRC,QAAQC,MAAMF,CAAC,CAAA,CACnB,CAGJG,yBAAyBC,EAAcC,EAAkBC,EAAkB,CACnEF,IAAS,YACGZ,EAAAA,SAAAA,EAAWC,OAAOa,CAAQ,CAC1C,CAEJ,WAAWC,oBAAqB,CAC5B,MAAO,CAAC,UAAU,CAAA,CAE1B"}